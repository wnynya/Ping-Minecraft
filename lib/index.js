"use strict";var _ping=_interopRequireDefault(require("./ping.js"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Object.defineProperty(exports,"ping",{enumerable:!0,get:function(){return _ping.default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=_ping.default;if(exports.default=_default,2<process.argv.length){const q=process.argv[2],optionsArray=[];for(var i=3;i<process.argv.length;i++)optionsArray.push(process.argv[i]);let dnsServer=0,version=0;for(const opt of optionsArray)"-version"==opt||"-ver"==opt||"-v"==opt||"version"==opt||"ver"==opt||"v"==opt?version=void 0:null==version?version=opt:"-dns"==opt||"-d"==opt||"dns"==opt||"d"==opt?dnsServer=!1:!1==dnsServer&&(dnsServer=opt);console.log("Running Ping-Minecraft at",new Date,"\n"),console.log("target  :",q),dnsServer?console.log("dns     :",dnsServer):null,(0,_ping.default)(q,{filterBogon:!1,dnsServer:dnsServer,version:version}).then(res=>{if(res.ip&&console.log("ip      :",res.ip,"\n"),res.error)return void console.log("error   :",res.error,"\n");console.log("port    :",res.port,"\n"),console.log("version :",res.version.name+" ("+res.version.protocol+")"),console.log("players :",res.players.current+"/"+res.players.max),console.log("  sample  :",res.players.sample&&0<res.players.sample.length?res.players.sample.length+" players":"0 players");for(const s of res.players.sample)console.log("    "+s.name+" ("+s.id+")");console.log("motd    :",res.description),console.log("favicon :",res.favicon.length,"chars"),console.log("")}).catch(err=>{console.error(err)})}